<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Polymorphically Mapped Types</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../index.html" title="QUINCE: QUeries IN C++ Expressions">
<link rel="up" href="../mapped_data_types.html" title="Chapter&#160;5.&#160;Mapped Data Types">
<link rel="prev" href="../mapped_data_types.html" title="Chapter&#160;5.&#160;Mapped Data Types">
<link rel="next" href="boost_optional.html" title="boost::optional&lt;...&gt;">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="spirit-nav">
<a accesskey="p" href="../mapped_data_types.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../mapped_data_types.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="boost_optional.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="mapped_data_types.polymorphically_mapped_types"></a><a class="link" href="polymorphically_mapped_types.html" title="Polymorphically Mapped Types">Polymorphically
        Mapped Types</a>
</h2></div></div></div>
<p>
          
        </p>
<p>
          Polymorphically mapped types are C++ types that can have different concrete
          mapper clases --and hence different column representations-- to suit different
          circumstances. E.g. a C++ <code class="computeroutput"><span class="keyword">bool</span></code>
          has one mapper class that represents it as an SQL <code class="literal">boolean</code>
          for PostgreSQL, and another that represents it as an SQL <code class="literal">integer</code>
          for sqlite; and an application can give it still more mapper classes, to
          represent it in <a class="link" href="../custom.html" title="Chapter&#160;9.&#160;Custom Mappings">customized ways</a> on a per-database
          or per-table basis.
        </p>
<p>
          All <code class="computeroutput"><span class="keyword">bool</span></code>'s concrete mapper
          classes are supplied by the backend libraries and (possibly) by application
          code; not by quince itself. That is the case for:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
              <code class="computeroutput"><span class="keyword">bool</span></code>
            </li>
<li class="listitem">
              8-, 16-, 32-, and 64-bit signed integers
            </li>
<li class="listitem">
              8-, 16-, 32-, and 64-bit unsigned integers
            </li>
<li class="listitem">
              <code class="computeroutput"><span class="keyword">float</span></code> and <code class="computeroutput"><span class="keyword">double</span></code>
            </li>
<li class="listitem">
              <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
            </li>
<li class="listitem">
              <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="identifier">uint8_t</span><span class="special">&gt;</span></code>
            </li>
<li class="listitem">
              <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">posix_time</span><span class="special">::</span><span class="identifier">ptime</span></code>
            </li>
</ul></div>
<p>
          Quince does, however, provide a concrete mapper class for <code class="computeroutput"><span class="identifier">serial</span></code>. Future backends might provide
          their own, but quince_postgresql and quince_sqlite have no need to do so.
        </p>
<p>
          The backend-supplied concrete mapper classes will be detailed in <a class="link" href="../quince_postgresql/mappers.html" title="Default mappers">later</a> <a class="link" href="../quince_sqlite/mappers.html" title="Default mappers">sections</a>,
          as will <a class="link" href="../custom.html" title="Chapter&#160;9.&#160;Custom Mappings">the means for application code to supply
          concrete mapper classes</a>.
        </p>
<p>
          In general, if <em class="replaceable"><code>PM</code></em> is a polymorphically mapped
          type, then application code does not have access to its concrete mapper
          classes. It treats <em class="replaceable"><code>PM</code></em>'s mapper objects polymorphically,
          via the interface <code class="computeroutput"><span class="identifier">abstract_mapper</span><span class="special">&lt;</span></code><em class="replaceable"><code>PM</code></em><code class="computeroutput"><span class="special">&gt;</span></code>. Examples:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
              The return type of <code class="computeroutput"><span class="identifier">query</span><span class="special">&lt;</span></code><em class="replaceable"><code>PM</code></em><code class="computeroutput"><span class="special">&gt;::</span><span class="keyword">operator</span><span class="special">-&gt;()</span></code> is <code class="computeroutput"><span class="keyword">const</span>
              <span class="identifier">abstract_mapper</span><span class="special">&lt;</span></code><em class="replaceable"><code>PM</code></em><code class="computeroutput"><span class="special">&gt;</span> <span class="special">*</span></code>.
            </li>
<li class="listitem">
              If <em class="replaceable"><code>C</code></em> is some class with a member <em class="replaceable"><code>C</code></em><code class="computeroutput"><span class="special">::</span></code><em class="replaceable"><code>pm</code></em> of type
              <em class="replaceable"><code>PM</code></em>, then the type of <code class="computeroutput"><span class="identifier">class_mapper</span><span class="special">&lt;</span></code><em class="replaceable"><code>C</code></em><code class="computeroutput"><span class="special">&gt;::</span><span class="identifier">pm</span></code>
              is <code class="computeroutput"><span class="keyword">const</span> <span class="identifier">abstract_mapper</span><span class="special">&lt;</span></code><em class="replaceable"><code>PM</code></em><code class="computeroutput"><span class="special">&gt;</span> <span class="special">&amp;</span></code>.
            </li>
</ul></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2014 Michael Shepanski<p>
        Distributed under the Boost Software License, Version 1.0
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../mapped_data_types.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../mapped_data_types.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="boost_optional.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
